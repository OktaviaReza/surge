#!name=è„šæœ¬åˆé›†
#!desc=æœ€åæ›´æ–°æ—¶é—´ 2022-04-24 8:22
#!system=ios

#è½¬è‡ª@githubdulong

# åˆ†å‰²çº¿â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

[Rule]
# > Safari é˜²è·³è½¬
DOMAIN,app-site-association.cdn-apple.com,REJECT
# > å¤©æ°”æ•°æ® æ—¥æœ¬
DOMAIN,api.waqi.info,ğ—ğ—®ğ—½ğ—®ğ—»
# > çˆ±å¥‡è‰º å»æš‚åœå¹¿å‘Š
DOMAIN-SUFFIX,cupid.iqiyi.com,REJECT
# > ä¼˜é…· å»å¹¿å‘Š
DOMAIN, iyes.youku.com,REJECT
URL-REGEX,^http:\/\/.*\.cp31\.ott\.cibntv\.net\/youku\/,REJECT-TINYGIF
# > äº¬ä¸œ å»å¹¿å‘Š
URL-REGEX,^https?:\/\/api\.m\.jd\.com\/client\.action\?functionId=start$,REJECT-TINYGIF
# > boxjs ä»£ç†
DOMAIN,boxjs.net,ğ—£ğ—¥ğ—¢ğ—«ğ—¬
DOMAIN,boxjs.com,ğ—£ğ—¥ğ—¢ğ—«ğ—¬
# > äº¬ä¸œåº“ ä»£ç†
DOMAIN-SUFFIX,jdsharedresourcescdn.azureedge.net,ğ—£ğ—¥ğ—¢ğ—«ğ—¬
# > è…¾è®¯è§†é¢‘ ä¿®æ­£+å»å¹¿å‘Š
DOMAIN,vv.video.qq.com,ğ——ğ—œğ—¥ğ—˜ğ—–ğ—§
URL-REGEX,^https?:\/\/pgdt\.gtimg\.cn,REJECT
URL-REGEX,^https?:\/\/c\.l\.qq\/.com,REJECT
# > HDOBOX å»å¹¿å‘Š
DOMAIN-SUFFIX,applovin.com,REJECT
DOMAIN-SUFFIX,applvn.com,REJECT
# > äº¤ç®¡12123 å»å¹¿å‘Š
URL-REGEX,^https:\/\/gab\.122\.gov\.cn\/eapp\/m\/sysquery\/adver$,REJECT
# > å°ç±³è¿åŠ¨ å»å¹¿å‘Š 
URL-REGEX,^https:\/\/api-mifit-cn2\.huami\.com\/discovery\/mi\/cards\/startpage_ad,REJECT
# > äº¬ä¸œæé€Ÿç‰ˆ å»å¹¿å‘Š
URL-REGEX,https://api.m.jd.com/client.action\?functionId=lite_advertising,REJECT
# > æ»´æ»´å‡ºè¡Œ å»å¹¿å‘Š
//01 å®‰å…¨æç¤ºæ¨ªå¹…
URL-REGEX,^https:\/\/guard\.sec\.xiaojukeji\.com\/api\/guard\/psg\/v2\/getShieldStatus,REJECT
//02 åº•éƒ¨æ‰“è½¦&ä»£ä»·æ¨è
URL-REGEX,^https:\/\/conf\.diditaxi\.com\.cn\/one,REJECT
//03 ç¦åˆ©ä¸“åŒº-é‡‘èæœåŠ¡-å…¬äº¤-éª‘è½¦-æ»´æ»´ä¹å›­
URL-REGEX,^https:\/\/conf\.diditaxi\.com\.cn\/nav\/widget,REJECT
//04 æ¥é€æœº-ä¼˜æƒ å•†åŸ
URL-REGEX,^https:\/\/api\.udache\.com\/gulfstream,REJECT
//05 ä¸»é¡µ é¢†ä»»åŠ¡
URL-REGEX,^https:\/\/conf\.diditaxi\.com\.cn\/api\/(component|fusion|dynamicmodule|usercenter),REJECT
URL-REGEX,^https:\/\/conf\.diditaxi\.com\.cn\/dynamic,REJECT
//06 ä¸»é¡µ éä¸»æµå¼æ‚¬æµ®æŒ‚ä»¶
URL-REGEX,^https:\/\/res\.xiaojukeji\.com\/resapi\/activity\/mget,REJECT
//07 å•†åŸ
URL-REGEX,^https:\/\/shop-gw\.chengxinyouxuan\.com\/(route|indexConfig|apolloConfig|getShopTuanInfos),REJECT
//08 å¼€å±å¹¿å‘Š
URL-REGEX,^https:\/\/img-ys011\.didistatic\.com\/static,REJECT
//09 éª‘è¡Œ
URL-REGEX,^https:\/\/pt-starimg\.didistatic\.com\/static,REJECT
# > äº‘é—ªä»˜ å»å¹¿å‘Š
URL-REGEX,^https:\/\/wallet\.95516\.com\/s\/wl\/icon\/long,REJECT
# > å¨é”‹ å»å¹¿å‘Š
URL-REGEX,^https:\/\/api\.wfdata\.club\/v2\/yesfeng\/(infoCenterAd|yesList),REJECT

# åˆ†å‰²çº¿â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

[Panel]
# > Panel
ç­–ç•¥é¢æ¿ = script-name=ç¼“å­˜å¼€å…³,update-interval=60
ç­–ç•¥é¢æ¿ = script-name=å¥ˆé£æŸ¥è¯¢,update-interval=21600
ç­–ç•¥é¢æ¿ = script-name=ä»£ç†é€‰æ‹©,update-interval=300

# åˆ†å‰²çº¿â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

[Script]
# > å¥ˆé£ è¯„åˆ† ï¼ˆios-*.prod.ftl.netflix.com,ios.prod.ftl.netflix.comï¼‰
å¥ˆé£è¯„åˆ† = type=http-request,pattern=^https?:\/\/ios(-.*)?\.prod\.ftl\.netflix\.com\/iosui\/user/.+path=%5B%22videos%22%2C%\d+%22%2C%22summary%22%5D,script-path=https://raw.githubusercontent.com/yichahucha/surge/master/nf_rating.js
å¥ˆé£è¯„åˆ† = type=http-response,requires-body=1,pattern=^https?:\/\/ios(-.*)?\.prod\.ftl\.netflix\.com\/iosui\/user/.+path=%5B%22videos%22%2C%\d+%22%2C%22summary%22%5D,script-path=https://raw.githubusercontent.com/yichahucha/surge/master/nf_rating.js
å•é›†è¯„åˆ† = type=http-response,pattern=^https?:\/\/ios(-.*)?\.prod\.ftl\.netflix\.com\/iosui\/warmer/.+type=show-ath,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/yichahucha/surge/master/nf_rating_season.js

# > Boxjsï¼ˆç¨³å®šç‰ˆ+æµ‹è¯•ç‰ˆï¼‰
ä¼šè¯æ•°æ® = type=http-request,pattern=^https?:\/\/boxjs\.com,script-path=https://raw.githubusercontent.com/chavyleung/scripts/master/chavy.box.js, requires-body=true, timeout=120
ä¼šè¯æ•°æ® = type=http-request,pattern=^https?:\/\/boxjs\.net,script-path=https://raw.githubusercontent.com/chavyleung/scripts/master/box/chavy.boxjs.js, requires-body=true, timeout=120

# > å½©äº‘å¤©æ°” svip ï¼ˆbiz.caiyunapp.comï¼‰
å½©äº‘å¤©æ°” = type=http-response,requires-body=1,max-size=0,pattern=https?:\/\/biz\.caiyunapp\.com\/(membership_rights|v2\/user),script-path=https://raw.githubusercontent.com/githubdulong/Script/master/cytq.js

# > äº¬ä¸œApp å†å²ä»·æ ¼ ï¼ˆapi.m.jd.comï¼‰
#äº¬ä¸œæ¯”ä»· = type=http-response,requires-body=1,pattern=^https?://api\.m\.jd\.com/client\.action\?functionId=(wareBusiness|serverConfig|basicConfig),script-path=https://raw.githubusercontent.com/githubdulong/Script/master/jd_price.js
äº¬ä¸œæ¯”ä»· = type=http-response,requires-body=1,pattern=^https?://api\.m\.jd\.com/client\.action\?functionId=(wareBusiness|serverConfig|basicConfig),script-path=https://raw.githubusercontent.com/yichahucha/surge/master/jd_price.js

# > æ·˜å®App å†å²ä»·æ ¼ ï¼ˆtrade-acs.m.taobao.comï¼‰
æ·˜å®æ¯”ä»· = type=hhttp-response,requires-body=1,pattern=^http://.+/amdc/mobileDispatch,script-path=https://raw.githubusercontent.com/yichahucha/surge/master/tb_price.js
æ·˜å®æ¯”ä»· = type=hhttp-response,requires-body=1,pattern=^https?://trade-acs\.m\.taobao\.com/gw/mtop\.taobao\.detail\.getdetail,script-path=https://raw.githubusercontent.com/yichahucha/surge/master/tb_price.js


# > bilbii æ¢åŒºã€è¯„åˆ† ï¼ˆap?.bilibili.com, ap?.biliapi.netï¼‰
å“”å“©æ¢åŒº = type=http-response,pattern=^https:\/\/ap(p|i)\.bili(bili|api)\.(com|net)\/(pgc\/view\/v\d\/app\/season|x\/v\d\/search\/defaultwords)\?access_key,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/NobyDa/Script/master/Surge/JS/Bili_Auto_Regions.js
å“”å“©æœç´¢ = type=http-request,pattern=^https:\/\/ap(p|i)\.bili(bili|api)\.(com|net)\/x\/v\d\/search(\/type)?\?.+?%20(%E6%B8%AF|%E5%8F%B0|%E4%B8%AD)&,script-path=https://raw.githubusercontent.com/NobyDa/Script/master/Surge/JS/Bili_Auto_Regions.js

# > YouTube å»å¹¿å‘Š
æ²¹ç®¡è§†é¢‘ = type=http-request,pattern=^https?:\/\/.+?\.googlevideo\.com\/.+&(oad|ctier)=(?!A),script-path=https://choler.github.io/Surge/Script/YouTube.js

# > ç™¾åº¦äº‘ç›˜ è§£é”
ç™¾åº¦äº‘ç›˜ = type=http-response,pattern=https:\/\/pan\.baidu\.com\/rest\/2\.0\/membership\/user,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/ddgksf2013/Cuttlefish/master/Crack/bdcloud.js,script-update-interval=0

# > å°çº¢ä¹¦ å»å¹¿å‘Š
çº¢ä¹¦å¹¿å‘Š = type=http-response,pattern=^https?:\/\/edith\.xiaohongshu\.com\/api\/sns\/v2\/system_service\/splash_config,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/chouchoui/QuanX/master/Scripts/xiaohongshu/xiaohongshu.ad.js

# > ç§æœ‰ä»“åº“ raw.githubusercontent.com, gist.githubusercontent.com
//ç§æœ‰ä»“åº“ = type=http-request,requires-body=0,pattern=^https?:\/\/(raw|gist)\.githubusercontent.com,script-path=https://raw.githubusercontent.com/Peng-YM/QuanX/master/Rewrites/GithubPrivate/github-private-repo.js

# > æœºåœºä¿¡æ¯ 
æœºåœºä¿¡æ¯ = type=http-request,pattern=http://sub\.info,script-path=https://raw.githubusercontent.com/mieqq/mieqq/master/sub_info.js
# > ç­–ç•¥é¢æ¿
ç¼“å­˜å¼€å…³ = type=generic,timeout=15,script-path=https://raw.githubusercontent.com/githubdulong/Script/master/surgepro_flushdns.js,argument=icon=power.circle&color=#FF2121&title=ğ—¦ğ—¨ğ—¥ğ—šğ—˜ Â®ï½œ2100-01-01
å¥ˆé£æŸ¥è¯¢ = type=generic,timeout=30,script-path=https://raw.githubusercontent.com/githubdulong/Script/master/nf_check.js, argument=title=ğ—¡ğ—˜ğ—§ğ—™ğ—Ÿğ—œğ—«
ä»£ç†é€‰æ‹© = type=generic,timeout=15,script-path=https://raw.githubusercontent.com/fishingworld/something/main/groupPanel.js,argument=icon=bolt.circle&color=#157EFB&group=ğ—£ğ—¥ğ—¢ğ—«ğ—¬

# åˆ†å‰²çº¿â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
[Header Rewrite]
# çŸ¥ä¹ï¼ˆéƒ¨åˆ†æ›¿æ¢ä¸ºæ‰‹æœºç™¾åº¦ Quark çš„ User-Agentï¼‰ ï¼ˆwww.zhihu.comï¼‰
http-request ^https?:\/\/www\.zhihu\.com header-replace-regex User-Agent .+iPhone.+ "Mozilla/5.0 (iPhone; CPU iPhone OS 13_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1.1 Mobile/15E148 Safari/16C50 Quark/604.1 T7/10.3 SearchCraft/2.6.3 (Baidu; P1 8.0.0)"
# ç™¾åº¦ï¼ˆå…¨ç«™æ›¿æ¢ä¸ºæ‰‹æœºç™¾åº¦ Quark çš„ User-Agentï¼‰ ï¼ˆ*.baidu.comï¼‰
http-request ^https?:\/\/(?!d\.pcs).*(?<!map)\.baidu\.com header-replace-regex User-Agent .+iPhone.+ "Mozilla/5.0 (iPhone; CPU iPhone OS 13_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1.1 Mobile/15E148 Safari/16C50 Quark/604.1 T7/10.3 SearchCraft/2.6.3 (Baidu; P1 8.0.0)"


# åˆ†å‰²çº¿â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”


# > æ¨¡å—è®¢é˜…(å•ç‹¬æ·»åŠ )
//å®˜æ–¹æ¨¡å— https://raw.githubusercontent.com/githubdulong/Script/master/Surge/Surge.sgmodule
//çˆ¬è™«å¤å†™å»å¹¿å‘Š https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rewrite/Surge/Advertising/Advertising.sgmodule
//ä»€ä¹ˆå€¼å¾—ä¹°å»å¹¿å‘Š https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/script/smzdm/smzdm_remove_ads.sgmodule
//è´´å§å»é™¤å¹¿å‘Š https://raw.githubusercontent.com/app2smile/rules/master/module/tieba.sgmodule
//spotifyè§£é” https://raw.githubusercontent.com/app2smile/rules/master/module/spotify.module
//SiriåŒºåŸŸè§£é” https://raw.githubusercontent.com/VirgilClyne/iRingo/main/sgmodule/Siri_for_Uppercase_PROXY.sgmodule
//äº¬ä¸œåŠ©æ‰‹(æ³¨å…¥å¼éœ€keyï¼‰https://raw.githubusercontent.com/githubdulong/Script/master/jdHelper.sgmodule
//äº¬ä¸œè”ç›Ÿè½¬é“¾ï¼ˆè”ç›Ÿã€åŠ©æ‰‹äºŒé€‰ä¸€ï¼‰https://raw.githubusercontent.com/githubdulong/Script/master/Surge/jdapp_to_union.sgmodule
//æµè§ˆå™¨æœç´¢ https://raw.githubusercontent.com/githubdulong/Script/master/Surge/Q-Search_All_in_one.sgmodule
//äº¬ä¸œåŠè‡ªåŠ¨é”€å¡ https://raw.githubusercontent.com/githubdulong/Script/master/Jd_unbindCard.sgmodule
//TFä¸‹è½½ä¿®æ­£ https://raw.githubusercontent.com/githubdulong/Script/master/Surge/TestFlightDownload.sgmodule
//å­—å¹•ç¿»è¯‘ https://raw.githubusercontent.com/Neurogram-R/Surge/master/module/Dualsub.sgmodule æŒ‡ä»¤https://www.icloud.com/shortcuts/136b52e6452b4a10b3ea647f925cddd0
//è·³è¿‡ä»£ç†æ£€æµ‹ https://raw.githubusercontent.com/mieqq/mieqq/master/skip-proxy-lists.sgmodule
//SUBè®¢é˜…ç®¡ç† https://raw.githubusercontent.com/Peng-YM/Sub-Store/master/config/Surge.sgmodule
//Embyè§£é” https://raw.githubusercontent.com/rartv/EmbyPublic/test/surge/emby-plugin.sgmodule
//ç©ºæ°”è´¨é‡ https://raw.githubusercontent.com/VirgilClyne/iRingo/main/sgmodule/Weather.sgmodule
//æ¨¡å—æ›´æ–°æ·å¾„ https://www.icloud.com/shortcuts/67c3ace4fb3a4f9ebbe8d3184cd82e39

# åˆ†å‰²çº¿â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

[MITM]
hostname = %INSERT% -*.amemv.com, *.baidu.com, www.zhihu.com, -*.snssdk.com, *.googlevideo.com,  ap*.intsig.net, ios-*.prod.ftl.netflix.com,ios.prod.ftl.netflix.com, *.lagoapps.com, biz.caiyunapp.com, raw.githubusercontent.com, ap?.bilibili.com, ap?.biliapi.net, pan.baidu.com, btrace.qq.com, security.wechat.com, api.polaxiong.com, m.douban.com, api.m.jd.com, gab.122.gov.cn, api-mifit-cn2.huami.com, as.xiaojukeji.com, pt-starimg.didistatic.com, security.xiaojukeji.com, guard.sec.xiaojukeji.com, conf.diditaxi.com.cn, api.udache.com, res.xiaojukeji.com, shop-gw.chengxinyouxuan.com, img-ys011.didistatic.com, wallet.95516.com, pgdt.gtimg.cn, c.l.qq.com, api.daoshang.online, api.wfdata.club, bkw-legacy.oss-cn-shenzhen.aliyuncs.com, edith.xiaohongshu.com, boxjs.net, boxjs.com,trade-acs.m.taobao.com
